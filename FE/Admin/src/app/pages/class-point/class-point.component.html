<app-loader></app-loader>
<div class="container-fluid">
  <!-- <app-page-title title="Điểm danh" [breadcrumbItems]="breadCrumbItems"></app-page-title> -->
      <div class="card">
        <div class="card-body">
          <h2>{{ classInfo.tenMon }}</h2>
          <div class="col-md-8"></div>
            <div class="col-md-2">
            </div>
          <div class="row mb-3">
            <div class="col-md-8"></div>
            <div class="col-4">
              <div class="text-end">
                <button *ngIf="lstPoint.length <= 0 " class="btn btn-primary btn-rounded mx-2" (click)="openPopup()">Tính điểm chuyên cần</button>
                <button *ngIf="lstPoint.length > 0 " class="btn btn-success btn-rounded" (click)="export()">Tải xuống Excel</button>
              </div>
            </div>
          </div>
          <div #table>
            <p-table responsiveLayout="scroll" [value]="dataTable" [paginator]="true" [rows]="10" [showCurrentPageReport]="true"
            [rowsPerPageOptions]="[10,25,50]"
            [rowHover]="true">
            <ng-template pTemplate="header">
                <tr >
                  <th>#</th>
                  <th>Mã sinh viên</th>
                  <th>Họ tên</th>
                  <th>Giới tính</th>
                  <th>Ngày sinh</th>
                  <th>Lớp</th>
                  <th>Khoa</th>
                  <th>Điểm chuyên cần</th>
                </tr>
            </ng-template>
            <ng-template pTemplate="body" let-item let-i="rowIndex">
                <tr>
                  <th scope="row">{{ i+1 }}</th>
                  <td>{{ item.Ma_sv }}</td>
                  <td>{{ item.Ho_ten }}</td>
                  <td>{{ item.Gioi_tinh }}</td>
                  <td>{{ item.Ngay_sinh | date: 'dd/MM/yyyy'}}</td>
                  <td>{{ item.Ten_lop  }}</td>
                  <td>{{ item.Ten_khoa }}</td>
                  <td *ngIf="item.point != undefined">{{ item.point }}</td>
                  <td *ngIf="item.point == undefined">Chưa có</td>
                </tr>
            </ng-template>
          </p-table>
          </div>
        </div>
      </div>
</div>
